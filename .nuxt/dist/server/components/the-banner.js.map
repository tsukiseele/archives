{"version":3,"file":"components/the-banner.js","sources":["webpack:///./components/TheBanner/index.vue?fe5c","webpack:///./components/TheBanner/index.vue?db81","webpack:///./components/TheBanner/index.vue?f303","webpack:///./components/TheBanner/index.vue","webpack:///./components/TheBanner/index.vue?6604","webpack:///./components/TheBanner/index.vue?4d45"],"sourcesContent":["// Exports\nmodule.exports = {\n\n};\n","export * from \"-!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-1!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-2!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7502ed7a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"banner\",class:{ full: _vm.isFull, hide: _vm.isHide },style:({ '--bg': _vm.cover ? (\"url(\" + _vm.cover + \")\") : null }),attrs:{\"id\":\"banner\"}},[_vm._ssrNode(\"<div class=\\\"banner--card\\\"\"+(_vm._ssrStyle(null,null, { display: (!_vm.isHide) ? '' : 'none' }))+\" data-v-7502ed7a><div class=\\\"banner--title\\\" data-v-7502ed7a><span data-v-7502ed7a>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span></div>\"+((!_vm.isHideSubtitle)?(\"<div class=\\\"banner--subtitle\\\" data-v-7502ed7a><span data-v-7502ed7a>\"+_vm._ssrEscape(_vm._s(_vm.input.show))+\"</span><span\"+(_vm._ssrClass(\"subtitle--cursor\",{ 'subtitle--cursor-vague': _vm.input.vague }))+\" data-v-7502ed7a></span></div>\"):\"<!---->\")+\"</div><div class=\\\"btn-scroll\\\"\"+(_vm._ssrStyle(null,null, { display: (!_vm.isHide && _vm.isFull) ? '' : 'none' }))+\" data-v-7502ed7a><i class=\\\"fa fa-chevron-down fa-lg\\\" data-v-7502ed7a></i></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    subtitle: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    cover: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    isHideSubtitle: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isFull: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    isHide: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disableTyping: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data: () => ({\r\n    input: {\r\n      template: [\r\n        /*\r\n        \"明日から、幸せな人になろう。\",\r\n        \"馬を飼って、薪を割って、世界を旅して。\",\r\n        \"明日から、食糧と野菜に気を使ってみよう。\",\r\n        \"私の家は、春に花咲く、この海辺に。\",\r\n        \"明日から、親しい人には手紙を書いて、\",\r\n        \"彼らに私の幸福を教えてあげよう。\",\r\n        \"あの稲妻のような幸福が、教えてくれたことを、\",\r\n        \"全ての人に教えて、\",\r\n        \"全ての川と山に、一つずつ暖かい名を付けて。\",\r\n        \"見知らぬ人、私はあなたのためにも祝福しよう。\",\r\n        \"あなたに素晴らしい未来があることを、\",\r\n        \"あなたとあなたの恋人が結ばれることを、\",\r\n        \"あなたがこの平凡な世界で幸せになる事を、願って。\",\r\n        \"そして私はただ、春に花咲く、この海辺に。\",*/\r\n      ],\r\n      show: \"\", // 当前行内容\r\n      index: 0, // 行索引\r\n      state: true,\r\n      vague: true,\r\n    },\r\n  }),\r\n  methods: {\r\n    scrollToContent() {\r\n      this.$nextTick(() => {\r\n        const ele = document.getElementById(\"container\");\r\n        this.$store.commit(\"scroll\", {\r\n          pos: ele.offsetTop,\r\n          change: ele.offsetTop,\r\n        });\r\n        ele.scrollIntoView();\r\n      });\r\n    },\r\n    typing() {\r\n      if (this.disableTyping) return;\r\n      let sleep = 0;\r\n      // 输入时，去除光标闪烁\r\n      if (this.input.vague) this.input.vague = false;\r\n      // 开始输入\r\n      let currentLine = this.input.template[this.input.index];\r\n      if (this.input.state) {\r\n        this.input.show = currentLine.substring(0, this.input.show.length + 1);\r\n        sleep = 180;\r\n        // 删除\r\n      } else {\r\n        this.input.show = currentLine.substring(0, this.input.show.length - 1);\r\n        sleep = 50;\r\n      }\r\n      // 输入前后调用,反转状态\r\n      if (\r\n        this.input.show.length == 0 ||\r\n        this.input.show.length == currentLine.length\r\n      ) {\r\n        this.input.state = !this.input.state;\r\n      }\r\n      // 开始输入前调用\r\n      if (this.input.show.length == 0) {\r\n        this.input.index =\r\n          ++this.input.index < this.input.template.length\r\n            ? this.input.index\r\n            : 0;\r\n        this.input.vague = true;\r\n        sleep = 666;\r\n      }\r\n      // 输入完毕后调用\r\n      if (this.input.show.length == currentLine.length) {\r\n        this.input.vague = true;\r\n        sleep = 2000;\r\n      }\r\n      setTimeout(this.typing, sleep);\r\n    },\r\n    async getHitokoto() {\r\n      let hitokoto = await this.$axios.$get(\"https://v1.hitokoto.cn/\");\r\n      if (hitokoto) {\r\n        this.input.template = [\r\n          `${hitokoto.hitokoto}`,\r\n          `出自 ${hitokoto.from}`,\r\n        ].concat(this.input.template);\r\n      }\r\n      this.typing();\r\n    },\r\n  },\r\n  computed: {\r\n    scroll() {\r\n      return this.$store.state.scroll;\r\n    },\r\n  },\r\n  watch: {\r\n    scroll() {},\r\n  },\r\n  mounted() {\r\n    if (!this.hideSubtitle) {\r\n      if (this.subtitle) {\r\n        this.input.template =\r\n          typeof this.subtitle === \"string\" ? [this.subtitle] : this.subtitle;\r\n        this.typing();\r\n      } else {\r\n        this.getHitokoto();\r\n      }\r\n    }\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7502ed7a&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=7502ed7a&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"7502ed7a\",\n  \"26fa44b8\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;ACHA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAzBA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAiBA;AAAA;AACA;AAAA;AACA;AACA;AArBA;AADA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AACA;AA3DA;AA4DA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AAFA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAvIA;;ACjBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}